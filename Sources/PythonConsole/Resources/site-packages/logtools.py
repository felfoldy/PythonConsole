#
#  logtools.py
#
#
#  Created by Tibor Felf√∂ldy on 2024-07-09.
#

from enum import Enum
from inspect import currentframe

class LogLevel(Enum):
    DEBUG = 0
    INFO = 1
    DEFAULT = 2
    ERROR = 3
    FAULT = 4

class Logger:
    def log(self, level: LogLevel, message: str):
        self.__log(level=level, message=message)

    def debug(self, message: str):
        self.__log(level=LogLevel.DEBUG, message=message)
        
    def info(self, message: str):
        self.__log(level=LogLevel.INFO, message=message)
        
    def notice(self, message: str):
        self.__log(level=LogLevel.DEFAULT, message=message)
        
    def error(self, message: str):
        self.__log(level=LogLevel.ERROR, message=message)
        
    def fault(self, message: str):
        self.__log(level=LogLevel.FAULT, message=message)
        
    def __log(self, level: LogLevel, message: str):
        frame = currentframe().f_back.f_back
        code = frame.f_code
        
        self._log_out(self, level, str(message), code.co_filename, code.co_name, frame.f_lineno)
    
